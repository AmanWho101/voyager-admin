(self.webpackChunk=self.webpackChunk||[]).push([[6854],{498:(e,l,o)=>{"use strict";o.r(l),o.d(l,{default:()=>G});var t=o(6252),n=o(3577),a=o(9963);const i={class:"voyager-table striped mt-0"},u=(0,t.Wm)("th",{class:"hidden md:table-cell"},null,-1),s={class:"hidden md:table-cell"},d={class:"hidden md:table-cell"},m={class:"hidden md:table-cell"},r={class:"hidden md:table-cell"},c={class:"hidden md:table-cell"},p={class:"flex justify-end"},_={class:"hidden md:table-cell dd-handle cursor-move"},g={class:"h-5 w-5"},y={class:"hidden md:table-cell"},b={class:"hidden md:table-cell"},W={class:"hidden md:table-cell"},w={class:"hidden md:table-cell"},v={class:"hidden md:table-cell"},h={class:"flex flex-no-wrap space-x-1 justify-end"},f={class:"input-group mt-2"},z={class:"label mt-4"},V={class:"input-group mt-2"},k={class:"label"},U={class:"button"},j={class:"voyager-table"},x={class:"flex justify-end"},F={value:null},$={value:"="},C={value:"!="},H={value:">="},T={value:">"},Y={value:"<="},B={value:"<"},K={value:"like"},q={class:"w-full"},M={class:"button"},L={class:"flex justify-end"};var S=o(9980);const A={components:{draggable:o.n(S)()},emits:["update:formfields","update:options","delete"],props:["computed","columns","relationships","formfields","options"],data(){return{colors:this.colors}},methods:{addFilter(){this.$refs.filters_collapsible.open();var e=this.options;this.isArray(e.filters)||(e.filters=[]),e.filters.push({name:"",column:null,operator:"=",value:"",color:"accent",icon:null}),this.$emit("update:options",e)},removeFilter(e){var l=this.options;l.filters.splice(e,1),this.$emit("update:options",l)}},render:function(e,l,o,S,A,G){const Q=(0,t.up)("icon"),D=(0,t.up)("language-input"),E=(0,t.up)("locale-picker"),I=(0,t.up)("slide-in"),J=(0,t.up)("draggable"),N=(0,t.up)("color-picker"),O=(0,t.up)("icon-picker"),P=(0,t.up)("modal"),R=(0,t.up)("collapsible"),X=(0,t.Q2)("tooltip");return(0,t.wg)(),(0,t.j4)("div",null,[(0,t.Wm)("div",i,[(0,t.Wm)("table",null,[(0,t.Wm)("thead",null,[(0,t.Wm)("tr",null,[u,(0,t.Wm)("th",s,(0,n.zw)(e.__("voyager::generic.type")),1),(0,t.Wm)("th",null,(0,n.zw)(e.__("voyager::generic.column")),1),(0,t.Wm)("th",null,(0,n.zw)(e.__("voyager::generic.title")),1),(0,t.Wm)("th",d,(0,n.zw)(e.__("voyager::builder.searchable")),1),(0,t.Wm)("th",m,(0,n.zw)(e.__("voyager::builder.orderable")),1),(0,t.Wm)("th",r,(0,n.zw)(e.__("voyager::builder.order_default")),1),(0,t.Wm)("th",c,(0,n.zw)(e.__("voyager::generic.translatable")),1),(0,t.Wm)("th",p,(0,n.zw)(e.__("voyager::generic.actions")),1)])]),(0,t.Wm)(J,{tag:"tbody",modelValue:o.formfields,"onUpdate:modelValue":l[2]||(l[2]=l=>e.$emit("update:formfields",l)),"item-key":""},{item:(0,t.w5)((({element:i,index:u})=>[(0,t.Wm)("tr",null,[(0,t.wy)((0,t.Wm)("td",_,[(0,t.Wm)("div",g,[(0,t.Wm)(Q,{icon:"selector"})])],512),[[X,e.__("voyager::generic.move")]]),(0,t.Wm)("td",y,(0,n.zw)(e.getFormfieldByType(i.type).name),1),(0,t.Wm)("td",null,[(0,t.wy)((0,t.Wm)("select",{class:"input small w-full","onUpdate:modelValue":e=>i.column=e},[e.getFormfieldByType(i.type).allow_columns?((0,t.wg)(),(0,t.j4)("optgroup",{key:0,label:e.__("voyager::builder.columns")},[((0,t.wg)(!0),(0,t.j4)(t.HY,null,(0,t.Ko)(o.columns,((e,l)=>((0,t.wg)(),(0,t.j4)("option",{key:"column_"+l,value:{column:e,type:"column"}},(0,n.zw)(e),9,["value"])))),128))],8,["label"])):(0,t.kq)("v-if",!0),e.getFormfieldByType(i.type).allow_computed_props?((0,t.wg)(),(0,t.j4)("optgroup",{key:1,label:e.__("voyager::builder.computed")},[((0,t.wg)(!0),(0,t.j4)(t.HY,null,(0,t.Ko)(o.computed,((e,l)=>((0,t.wg)(),(0,t.j4)("option",{key:"computed_"+l,value:{column:e,type:"computed"}},(0,n.zw)(e),9,["value"])))),128))],8,["label"])):(0,t.kq)("v-if",!0),((0,t.wg)(!0),(0,t.j4)(t.HY,null,(0,t.Ko)(o.relationships,((l,o)=>((0,t.wg)(),(0,t.j4)(t.HY,{key:"relationship_"+o},[e.getFormfieldByType(i.type).allow_relationship_props?((0,t.wg)(),(0,t.j4)("optgroup",{key:0,label:l.method},[((0,t.wg)(!0),(0,t.j4)(t.HY,null,(0,t.Ko)(l.columns,((e,o)=>((0,t.wg)(),(0,t.j4)("option",{key:"column_"+o,value:{column:l.method+"."+e,type:"relationship"}},(0,n.zw)(e),9,["value"])))),128))],8,["label"])):(0,t.kq)("v-if",!0)],64)))),128))],8,["onUpdate:modelValue"]),[[a.bM,i.column]])]),(0,t.Wm)("td",null,[(0,t.Wm)(D,{class:"input small w-full",type:"text",placeholder:"Title",modelValue:i.title,"onUpdate:modelValue":e=>i.title=e},null,8,["modelValue","onUpdate:modelValue"])]),(0,t.Wm)("td",b,[(0,t.wy)((0,t.Wm)("input",{class:"input",type:"checkbox","onUpdate:modelValue":e=>i.searchable=e},null,8,["onUpdate:modelValue"]),[[a.e8,i.searchable]])]),(0,t.Wm)("td",W,[(0,t.wy)((0,t.Wm)("input",{class:"input",type:"checkbox","onUpdate:modelValue":e=>i.orderable=e,disabled:"column"!==i.column.type},null,8,["onUpdate:modelValue","disabled"]),[[a.e8,i.orderable]])]),(0,t.Wm)("td",w,[(0,t.wy)((0,t.Wm)("input",{class:"input",type:"radio",disabled:"column"!==i.column.type,"onUpdate:modelValue":l[1]||(l[1]=e=>o.options.default_order_column=e),value:i.column},null,8,["disabled","value"]),[[a.G2,o.options.default_order_column]])]),(0,t.Wm)("td",v,[(0,t.wy)((0,t.Wm)("input",{type:"checkbox",class:"input","onUpdate:modelValue":e=>i.translatable=e,disabled:!e.getFormfieldByType(i.type).can_be_translated},null,8,["onUpdate:modelValue","disabled"]),[[a.e8,i.translatable]])]),(0,t.Wm)("td",h,[(0,t.Wm)(I,{title:e.__("voyager::generic.options")},{actions:(0,t.w5)((()=>[(0,t.Wm)(E)])),opener:(0,t.w5)((()=>[(0,t.Wm)("button",U,[(0,t.Wm)(Q,{icon:"cog"}),(0,t.Wm)("span",null,(0,n.zw)(e.__("voyager::generic.options")),1)])])),default:(0,t.w5)((()=>[(0,t.Wm)("div",f,[(0,t.Wm)("label",z,(0,n.zw)(e.__("voyager::generic.component")),1),(0,t.wy)((0,t.Wm)("input",{type:"text",class:"input w-full","onUpdate:modelValue":e=>i.component=e},null,8,["onUpdate:modelValue"]),[[a.nr,i.component]])]),((0,t.wg)(),(0,t.j4)((0,t.LL)(e.getFormfieldByType(i.type).builder_component),{options:i.options,"onUpdate:options":e=>i.options=e,column:i.column,columns:o.columns,action:"list-options"},null,8,["options","onUpdate:options","column","columns"])),(0,t.Wm)("div",V,[(0,t.Wm)("label",k,(0,n.zw)(e.__("voyager::generic.classes")),1),(0,t.wy)((0,t.Wm)("input",{type:"text",class:"input w-full","onUpdate:modelValue":e=>i.options.classes=e},null,8,["onUpdate:modelValue"]),[[a.nr,i.options.classes]])])])),_:2},1032,["title"]),(0,t.Wm)("button",{class:"button red",onClick:l=>e.$emit("delete",u)},[(0,t.Wm)(Q,{icon:"trash"}),(0,t.Wm)("span",null,(0,n.zw)(e.__("voyager::generic.delete")),1)],8,["onClick"])])])])),_:1},8,["modelValue"])])]),(0,t.Wm)(R,{title:`${e.__("voyager::generic.filters")} (${o.options.filters.length||0})`,closed:"",ref:"filters_collapsible"},{actions:(0,t.w5)((()=>[(0,t.Wm)("button",{class:"button green small",onClick:l[3]||(l[3]=(0,a.iM)(((...e)=>G.addFilter&&G.addFilter(...e)),["stop"]))},[(0,t.Wm)(Q,{icon:"plus"})])])),default:(0,t.w5)((()=>[(0,t.Wm)("div",j,[(0,t.Wm)("table",null,[(0,t.Wm)("thead",null,[(0,t.Wm)("tr",null,[(0,t.Wm)("th",null,(0,n.zw)(e.__("voyager::generic.name")),1),(0,t.Wm)("th",null,(0,n.zw)(e.__("voyager::generic.column")),1),(0,t.Wm)("th",null,(0,n.zw)(e.__("voyager::generic.operator")),1),(0,t.Wm)("th",null,(0,n.zw)(e.__("voyager::builder.value_or_scope")),1),(0,t.Wm)("th",null,(0,n.zw)(e.__("voyager::generic.color")),1),(0,t.Wm)("th",null,(0,n.zw)(e.__("voyager::generic.icon")),1),(0,t.Wm)("th",x,(0,n.zw)(e.__("voyager::generic.actions")),1)])]),(0,t.Wm)("tbody",null,[((0,t.wg)(!0),(0,t.j4)(t.HY,null,(0,t.Ko)(o.options.filters,((l,i)=>((0,t.wg)(),(0,t.j4)("tr",{key:"filter-"+i},[(0,t.Wm)("td",null,[(0,t.Wm)(D,{class:"input small w-full",type:"text",placeholder:e.__("voyager::generic.name"),modelValue:l.name,"onUpdate:modelValue":e=>l.name=e},null,8,["placeholder","modelValue","onUpdate:modelValue"])]),(0,t.Wm)("td",null,[(0,t.wy)((0,t.Wm)("select",{class:"input small w-full","onUpdate:modelValue":e=>l.column=e},[(0,t.Wm)("option",F,(0,n.zw)(e.__("voyager::generic.none")),1),((0,t.wg)(!0),(0,t.j4)(t.HY,null,(0,t.Ko)(o.columns,(e=>((0,t.wg)(),(0,t.j4)("option",{key:e},(0,n.zw)(e),1)))),128))],8,["onUpdate:modelValue"]),[[a.bM,l.column]])]),(0,t.Wm)("td",null,[(0,t.wy)((0,t.Wm)("select",{class:"input small w-full","onUpdate:modelValue":e=>l.operator=e,disabled:null===l.column},[(0,t.Wm)("option",$,(0,n.zw)(e.__("voyager::builder.operators.equals")),1),(0,t.Wm)("option",C,(0,n.zw)(e.__("voyager::builder.operators.not_equals")),1),(0,t.Wm)("option",H,(0,n.zw)(e.__("voyager::builder.operators.bigger_than")),1),(0,t.Wm)("option",T,(0,n.zw)(e.__("voyager::builder.operators.bigger")),1),(0,t.Wm)("option",Y,(0,n.zw)(e.__("voyager::builder.operators.smaller_than")),1),(0,t.Wm)("option",B,(0,n.zw)(e.__("voyager::builder.operators.smaller")),1),(0,t.Wm)("option",K,(0,n.zw)(e.__("voyager::builder.operators.like")),1)],8,["onUpdate:modelValue","disabled"]),[[a.bM,l.operator]])]),(0,t.Wm)("td",null,[(0,t.wy)((0,t.Wm)("input",{type:"text",class:"input small w-full","onUpdate:modelValue":e=>l.value=e},null,8,["onUpdate:modelValue"]),[[a.nr,l.value]])]),(0,t.Wm)("td",null,[(0,t.Wm)(N,{modelValue:l.color,"onUpdate:modelValue":e=>l.color=e,size:2,"add-none":""},null,8,["modelValue","onUpdate:modelValue"])]),(0,t.Wm)("td",null,[(0,t.Wm)(P,{ref:`filter_icon_modal_${i}`,title:e.__("voyager::generic.select_icon")},{opener:(0,t.w5)((()=>[(0,t.Wm)("div",q,[(0,t.Wm)("button",M,[(0,t.Wm)(Q,{class:"my-1 content-center",icon:l.icon?l.icon:"ban",key:i+(l.icon?l.icon:"ban")},null,8,["icon"])])])])),actions:(0,t.w5)((()=>[(0,t.Wm)("button",{class:"button",onClick:o=>{l.icon=null,e.$refs["filter_icon_modal_"+i].close()}},(0,n.zw)(e.__("voyager::generic.none")),9,["onClick"])])),default:(0,t.w5)((()=>[(0,t.Wm)(O,{onSelect:o=>{l.icon=o,e.$refs[`filter_icon_modal_${i}`].close()}},null,8,["onSelect"])])),_:2},1032,["title"])]),(0,t.Wm)("td",L,[(0,t.Wm)("button",{class:"button red small",onClick:(0,a.iM)((e=>G.removeFilter(i)),["stop"])},[(0,t.Wm)(Q,{icon:"trash"})],8,["onClick"])])])))),128))])])])])),_:1},8,["title"])])}},G=A}}]);